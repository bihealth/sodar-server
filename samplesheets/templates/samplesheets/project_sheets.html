{# Projectroles dependency #}
{% extends 'projectroles/project_base.html' %}
{% load projectroles_common_tags %}

{% load static %}
{% load rules %}
{% load render_bundle from webpack_loader %}
{% load samplesheets_tags %}

{% block title %}
  Sample Sheets for {{ project.title }}
{% endblock title %}

{% block css %}
  {{ block.super }}
  <link rel="stylesheet" type="text/css" href="{% static 'irodsbackend/css/irodsbackend.css' %}" />
{% endblock css %}

{% block projectroles_extend %}
{% has_perm 'samplesheets.edit_sheet' request.user project as can_edit_sheet %}

<div id="sodar-ss-app-context" app-context="{{ app_context }}"></div>
<div id="app"></div>

{# Render manifest and vendor bundles only if running in production #}
{% if settings_module == 'config.settings.production' %}
  {% render_bundle 'manifest' config='SAMPLESHEETS' %}
  {% render_bundle 'vendor' config='SAMPLESHEETS' %}
{% endif %}

{# Always render app bundle #}
{% render_bundle 'app' config='SAMPLESHEETS' %}

{% endblock projectroles_extend %}

{% block javascript %}
  {{ block.super }}
{% endblock javascript %}
